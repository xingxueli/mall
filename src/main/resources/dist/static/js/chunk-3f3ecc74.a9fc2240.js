/*!
 *  build: vue-admin-better 
 *  vue-admin-beautiful.com 
 *  https://gitee.com/chu1204505056/vue-admin-better 
 *  time: 2022-9-7 11:40:54
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f3ecc74"],{2299:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"实际退房",prop:"actualEndTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择实际退房日期"},on:{change:e.changeEndTime},model:{value:e.form.actualEndTime,callback:function(t){e.$set(e.form,"actualEndTime","string"===typeof t?t.trim():t)},expression:"form.actualEndTime"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},a=[],i=r("f8b7"),l={name:"CheckOutEdit",data(){return{form:{actualEndTime:""},rules:{actualEndTime:[{required:!0,trigger:"blur",message:"请输入实际退房时间"}]},title:"",dialogFormVisible:!1,operationType:""}},created(){},methods:{showEdit(e){this.title="退房",this.operationType="update",this.form=Object.assign({},e),this.dialogFormVisible=!0},close(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1,this.$emit("fetch-data")},changeEndTime(e){this.form.actualEndTime=e},save(){this.$refs["form"].validate(async e=>{if(!e)return!1;{const e=await Object(i["doCheckOut"])(this.form);"Success"===e.code?this.$baseMessage("退房成功","success"):this.$baseMessage("退房失败","error"),this.$emit("fetch-data"),this.dialogFormVisible=!1}})}}},s=l,n=r("2877"),c=Object(n["a"])(s,o,a,!1,null,null,null);t["default"]=c.exports},2436:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"实际入住",prop:"actualStartTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择实际入住日期"},on:{change:e.changeStartTime},model:{value:e.form.actualStartTime,callback:function(t){e.$set(e.form,"actualStartTime","string"===typeof t?t.trim():t)},expression:"form.actualStartTime"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},a=[],i=r("f8b7"),l={name:"CheckInEdit",data(){return{form:{actualStartTime:""},rules:{actualStartTime:[{required:!0,trigger:"blur",message:"请输入实际入住时间"}]},title:"",dialogFormVisible:!1}},created(){},methods:{showEdit(e){this.title="入住",this.form=Object.assign({},e),this.dialogFormVisible=!0},close(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1,this.$emit("fetch-data")},changeStartTime(e){this.form.actualStartTime=e},save(){this.$refs["form"].validate(async e=>{if(!e)return!1;{const e=await Object(i["doCheckIn"])(this.form);"Success"===e.code?this.$baseMessage("入住成功","success"):this.$baseMessage("入住失败","error"),this.$emit("fetch-data"),this.dialogFormVisible=!1}})}}},s=l,n=r("2877"),c=Object(n["a"])(s,o,a,!1,null,null,null);t["default"]=c.exports},"9bed":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-container"},[r("vab-query-form",[r("vab-query-form-left-panel",[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.handleCreateOrder}},[e._v(" 创建订单 ")])],1),r("vab-query-form-right-panel",[r("el-form",{ref:"form",attrs:{model:e.queryForm,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"标题"},model:{value:e.queryForm.title,callback:function(t){e.$set(e.queryForm,"title",t)},expression:"queryForm.title"}})],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary","native-type":"submit"},on:{click:e.handleQuery}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"tableSort",attrs:{"element-loading-text":e.elementLoadingText,height:e.height,data:e.list},on:{"selection-change":e.setSelectRows,"sort-change":e.tableSortChange}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection",width:"55"}}),e._e(),e._e(),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"订单编号",prop:"orderNum",width:"55"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderName",label:"用户",width:"80"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"storeName",label:"店名",width:"100"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"guestRoomId",label:"客房id"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"订单金额",prop:"totalAmount"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"入住状态"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-tooltip",{staticClass:"item",attrs:{content:o.registerStatusString,effect:"dark",placement:"top-start"}},[0===o.registerStatus?r("el-tag",{attrs:{type:"warning",size:"medium"}},[e._v(" "+e._s(o.registerStatusString)+" ")]):e._e(),1===o.registerStatus?r("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(" "+e._s(o.registerStatusString)+" ")]):e._e(),2===o.registerStatus?r("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(" "+e._s(o.registerStatusString)+" ")]):e._e()],1)]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"预计入住日期",prop:"predictStartTime"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"预计退房日期",prop:"predictEndTime"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"实际入住日期",prop:"actualStartTime"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"实际退房日期",prop:"actualEndTime"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"支付类型",prop:"payType"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-tooltip",{staticClass:"item",attrs:{content:o.payTypeName,effect:"dark",placement:"top-start"}},[r("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(" "+e._s(o.payTypeName)+" ")])],1)]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"支付方式",prop:"payWay"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-tooltip",{staticClass:"item",attrs:{content:o.payWayName,effect:"dark",placement:"top-start"}},[r("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(" "+e._s(o.payWayName)+" ")])],1)]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-tooltip",{staticClass:"item",attrs:{content:o.orderStatusName,effect:"dark",placement:"top-start"}},[r("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(" "+e._s(o.orderStatusName)+" ")])],1)]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"创建时间",prop:"createTime",width:"50px"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEditOrder(o)}}},[e._v("修改")]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleCheckIn(o)}}},[e._v("入住")]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleCheckOut(o)}}},[e._v("退房")])]}}])})],1),r("el-pagination",{attrs:{background:e.background,"current-page":e.queryForm.pageNum,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),r("table-edit",{ref:"edit",on:{"fetch-data":e.fetchData}}),r("check-in-edit",{ref:"checkInEdit",on:{"fetch-data":e.fetchData}}),r("check-out-edit",{ref:"checkOutEdit",on:{"fetch-data":e.fetchData}})],1)},a=[],i=r("f8b7"),l=r("b529"),s=r("2436"),n=r("2299"),c={name:"ComprehensiveTable",components:{TableEdit:l["default"],CheckInEdit:s["default"],CheckOutEdit:n["default"]},data(){return{imgShow:!0,list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,background:!0,selectRows:"",elementLoadingText:"正在加载...",queryForm:{pageNum:1,pageSize:20,title:""}}},computed:{height(){return this.$baseTableHeight()}},created(){this.fetchData()},beforeDestroy(){},mounted(){},methods:{tableSortChange(){const e=[];this.$refs.tableSort.tableData.forEach((t,r)=>{e.push(t.img)}),this.imageList=e},setSelectRows(e){this.selectRows=e},handleCheckIn(e){e.guestRoomId?this.$refs["checkInEdit"].showEdit(e):this.$baseMessage("请先绑定房间","error")},handleCheckOut(e){e.guestRoomId?this.$refs["checkOutEdit"].showEdit(e):this.$baseMessage("请先绑定房间","error")},handleCreateOrder(e){this.$refs["edit"].showEdit()},handleEditOrder(e){this.$refs["edit"].showEdit(e)},handleSizeChange(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange(e){this.queryForm.pageNum=e,this.fetchData()},handleQuery(){this.queryForm.pageNum=1,this.fetchData()},async fetchData(){this.listLoading=!0;const{data:e}=await Object(i["getList"])(this.queryForm),{orders:t,totalCount:r}=e;this.list=t,this.total=r,setTimeout(()=>{this.listLoading=!1},500)}}},m=c,u=r("2877"),d=Object(u["a"])(m,o,a,!1,null,null,null);t["default"]=d.exports},b529:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"客房id",prop:"guestRoomId"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.guestRoomId,callback:function(t){e.$set(e.form,"guestRoomId","string"===typeof t?t.trim():t)},expression:"form.guestRoomId"}})],1),r("el-form-item",{attrs:{label:"支付方式",prop:"payWay"}},[r("el-select",{attrs:{placeholder:"请选择支付类型"},model:{value:e.form.payWay,callback:function(t){e.$set(e.form,"payWay",t)},expression:"form.payWay"}},e._l(e.payWayOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"订单姓名",prop:"orderName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.orderName,callback:function(t){e.$set(e.form,"orderName","string"===typeof t?t.trim():t)},expression:"form.orderName"}})],1),r("el-form-item",{attrs:{label:"订单电话",prop:"orderMobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.orderMobile,callback:function(t){e.$set(e.form,"orderMobile","string"===typeof t?t.trim():t)},expression:"form.orderMobile"}})],1),r("el-form-item",{attrs:{label:"金额",prop:"totalAmount"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.totalAmount,callback:function(t){e.$set(e.form,"totalAmount",e._n(t))},expression:"form.totalAmount"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),r("el-form-item",{attrs:{label:"预计入住",prop:"predictStartTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择预计入住日期"},on:{change:e.changeStartTime},model:{value:e.form.predictStartTime,callback:function(t){e.$set(e.form,"predictStartTime","string"===typeof t?t.trim():t)},expression:"form.predictStartTime"}})],1),r("el-form-item",{attrs:{label:"预计退房",prop:"predictEndTime"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择预计退房日期"},on:{change:e.changeEndTime},model:{value:e.form.predictEndTime,callback:function(t){e.$set(e.form,"predictEndTime","string"===typeof t?t.trim():t)},expression:"form.predictEndTime"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},a=[],i=r("f8b7"),l={name:"TableEdit",data(){return{form:{guestRoomId:"",payWay:"",orderName:"",orderMobile:"",totalAmount:"",remark:"",predictStartTime:"",predictEndTime:""},payWayOptions:[{value:1,label:"微信支付"},{value:2,label:"支付宝支付"}],rules:{payWay:[{required:!0,trigger:"blur",message:"请支付方式"}],guestRoomId:[{required:!0,trigger:"blur",message:"请输入客房id"}],roomName:[{required:!0,trigger:"blur",message:"请输入客房名称"}],orderName:[{required:!0,trigger:"blur",message:"请输入下单人姓名"}],orderMobile:[{required:!0,message:"请输入下单人电话",trigger:"blur"}],totalAmount:[{required:!0,trigger:"blur",message:"请输入价格",type:"number"}],remark:[{required:!0,trigger:"blur",message:"请输入备注"}],predictStartTime:[{required:!0,trigger:"blur",message:"请输入入住时间"}],predictEndTime:[{required:!0,trigger:"blur",message:"请输入退房时间"}]},title:"",dialogFormVisible:!1,operationType:""}},created(){},methods:{changeStartTime(e){this.form.predictStartTime=e},changeEndTime(e){this.form.predictEndTime=e},showEdit(e){e?(this.title="修改订单",this.operationType="editOrder",this.form=Object.assign({},e)):(this.title="创建订单",this.operationType="createOrder"),this.dialogFormVisible=!0},close(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1,this.$emit("fetch-data")},save(){this.$refs["form"].validate(async e=>{if(!e)return!1;if("createOrder"==this.operationType){const e=await Object(i["doCreateOrder"])(this.form);"Success"===e.code?this.$baseMessage("订单创建成功","success"):this.$baseMessage("订单创建失败","error")}else if("editOrder"==this.operationType){const e=await Object(i["doEditOrder"])(this.form);"Success"===e.code?this.$baseMessage("订单更新成功","success"):this.$baseMessage("订单更新失败","error")}this.$emit("fetch-data"),this.dialogFormVisible=!1})}}},s=l,n=r("2877"),c=Object(n["a"])(s,o,a,!1,null,null,null);t["default"]=c.exports},f8b7:function(e,t,r){"use strict";r.r(t),r.d(t,"doCreateOrder",(function(){return a})),r.d(t,"doEditOrder",(function(){return i})),r.d(t,"getList",(function(){return l})),r.d(t,"doCheckIn",(function(){return s})),r.d(t,"doCheckOut",(function(){return n}));var o=r("b775");function a(e){return Object(o["default"])({url:"https://springboot-krih-3055-4-1313299760.sh.run.tcloudbase.com/order/webCreate",method:"post",data:e})}function i(e){return Object(o["default"])({url:"https://springboot-krih-3055-4-1313299760.sh.run.tcloudbase.com/order/webUpdate",method:"post",data:e})}function l(e){return Object(o["default"])({url:"https://springboot-krih-3055-4-1313299760.sh.run.tcloudbase.com/order/webList",method:"post",data:e})}function s(e){return Object(o["default"])({url:"https://springboot-krih-3055-4-1313299760.sh.run.tcloudbase.com/hotel/checkin",method:"post",data:e})}function n(e){return Object(o["default"])({url:"https://springboot-krih-3055-4-1313299760.sh.run.tcloudbase.com/hotel/checkout",method:"post",data:e})}}}]);